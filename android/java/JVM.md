##Java虚拟机##

1、垃圾回收算法：

    1.标记-清除算法（基础算法）：
    标记需要回收的的对象，标记完成后统一回收。
    缺点：标记和清除效率都不高；清楚后产生的不连续内存碎片严重
    2.复制算法：
    将内存划分大小相等的两块，每次使用其中的一块，内存用完后将存活的对象复制到另外一块上面，然后清理使用过的内存空间
    缺点：内存缩小为原来的一半  优点：不用考虑内存碎片化
    （tips:新生代98%对象死得很快，所以并不需要按照1：1划分内存空间，HotSpot默认Eden:Survivor 8:1）
    3.标记-整理算法：适用于老年代，对象存活率比较高的内存操作
    4.分代收集算法：
    新生代中，对象存活率低，只需要少量存货对象的复制成本完成收集，因而采用复制算法；
   0 .老年代中，对象存活率高，没有额外的空间进行分配，必使用标记-清理或者标记-整理算法

2、内存分配与回收策略

    1.对象优先在新生代Eden区分配（如果Eden没有足够空间，虚拟机尝试发起一次GC）
    2.大对象直接进入老年代（大对象：需要大量连续内存空间的java对象）
    3.长期存活对象将进入老年代（长期存活的依据：虚拟机给每个对象定义一个年龄计数器，对象在Eden区出生并且经过第一次Monor GC后仍然存活，并且被Survivor容纳，将被移动到Survivor空间，对象年龄设为1，如此反复GC并存活，年龄累计到15岁会晋升到老年代）
    4.动态对象年龄判定（Survivor空间相同年龄所有对象大小的总和大于Survivor空间的一半，年龄大于或等于该年龄的对象直接进入老年代，而无需等到年龄计数器最大年龄）
    5.空间担保分配